\chapter{Conceptual design}
\label{chap:conceptual_design}
This chapter contains a discussion of possible designs for use case structuring methods -- with user interface mock-ups. The discussion is started by defining an appropriate view on use case and then presenting three conceptual solutions along with a discussion on their applicability in the problem domain. It is assumed that a domain framework (such as the one discussed in \ref{ssec:openreception-framework}) is present, and the test support tools are written alongside -- or prior.\medskip

\noindent The goal is to identify a suitable concept for a tool that enables us to inject better domain-awareness in our tests. It should also be able to support tests generation from them. The goal is to identify a concept that supports loose structuring of use cases. It should still provide enough information to be able to map to the system under test for test generation.\medskip
\begin{figure}[!htbp]
\centering

\begin{tikzpicture}

% horizontal axis
\draw[->] (0,0) -- (6,0) node[anchor=north,midway] {\small Code generation};

% vertical axis
\draw[->] (0,0) -- (0,4) node[anchor=south,rotate=90,midway] {\small Domain-awareness};

\draw (5,0.2) node[circle,fill,inner sep=1pt, fill=blue, label=above:1st iteration] {};

\draw (1.2,3.0) node[circle,fill,inner sep=1pt, fill=blue, label=above:2nd iteration] {};

% Project
\draw (5,3) node[circle,fill,inner sep=1pt, fill=dkgreen, minimum size=0.3cm, label=above:Project] {}; 

\end{tikzpicture}
\caption{Finding a good combination of domain-awareness and generation}
\label{fig:project_parameter_plot_project}
\end{figure}

\noindent By discussing and iterating through a number of different conceptual designs, levering their benefits and disadvantages, a suitable  working model will be refined. Figure \ref{fig:project_parameter_plot_project} shows the ideal placement of the tool, as something that combines both concepts from the previous iterations.

\section{Interpreting use cases}
This section discusses and chooses a use case representation model that is suitable for structuring.\medskip

\noindent
In order to be able to structure use cases, we need to define to it what a use case is. But, since use cases do not have a widely adopted standardized format, we need to pick a suitable representation.\medskip

\noindent While we did find an existing formalized use case model\cite{klimek2010formal}, it focused on model checking and semantics. While this is indeed an important field of study, our scope is a bit different. As the tool we want to build here is meant as a support for existing development procedure -- rather than replacing it, and introducing formalism -- we constrain ourselves from constructing it from a formal model.\medskip

\noindent We focus on the structure provided by the template, and build our way up from there. But, before we try to build up a model for use case that support test translation, we need to establish a common ground of what a use case is, what it should include, and what it shouldn't include. From \cite{cockburn2000}, we get:
\begin{quote}
``... The use case, as the contract for behavior, captures \emph{all and only} the behaviors related to satisfy the stakeholdersâ€™ interests.''
\end{quote}which basically means that we should write our use cases, solely focusing on behavior and intent of the involved stakeholders. Any non-essential information should be left out. Another point that is stated\cite{larman2005} is that use cases should not be used to describe user interface actions, so for example an action ``user presses submit button'' is not suitable writing level for a use case.\medskip

\noindent So, in essence, use cases express \emph{expected system behavior from a stakeholder's point of view}. For this thesis we use the ``fully dressed'' use case template\cite{larman2005}, as it already provides very good structure to build upon. It specifies the need to include a stakeholder list, a primary actor, main scenario, pre- and postconditions and a list of extension that are linked to main scenario. An overview of the terms used for the remainder of the thesis is shown below.
\begin{description}

  \item[Use case:] Contains -- as a minimum -- a primary actor, which signifies to aspect of the use case, and a scenario. The use case represents a high-level goal that the primary actor wants to achieve.

  \item[Scenario:] The scenario is the list of steps that the primary actor needs to go through in order achieve the use case goal.

  \item[Steps:] The steps of a use case. A step may be decomposed into smaller components or just be a text, based on which level of detail we want. 

  \item[Extensions:] Extensions are alternate scenarios that branch out of the original scenario. They are not meant as use case extensions, but alternate paths that a use case scenario may take.

  \item[Preconditions:] A list of predicates that needs to be true for the first step in the use case to be executed.

  \item[Postconditions:] A list of predicates that needs to be true in order to make use case goal succeed, after the steps in the scenario (possibly including the extensions), have been performed.

  \item[Actors:] May be considered primary or supporting. Is typically a human performing a role in the system, but may also be another system that provides provides a service or information. An actor has a set of goals, which he/she wants to realize through the system. A good goal has a verb/noun combination, as a rule of thumb. In the context of a use case, an actor may act in a given role.

  \item[Concepts:] Concepts are general terms that are usually part of the domain model for the system under development. Basically, most terms that can be interacted with in the system under development count as concept. In our example system, a ``call'' is considered a concept.
  
\end{description}
This use case representation is used in the next section, where three use case editor concepts are presented.
\input{chapters/design_concept1}
\input{chapters/design_concept2}
\input{chapters/design_concept3}

